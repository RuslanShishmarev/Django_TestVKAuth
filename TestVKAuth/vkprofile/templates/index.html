{% extends "base.html" %}
{% load account socialaccount %}
{% block content %}
<div class="task">
    <h1>Тестовое задание</h1>
    <blockquote>Сделайте, пожалуйста, веб приложение,
        на выбранном вами языке, при открытии должно
        показать кнопку «авторизоваться» по нажатию делает
        oauth авторизацию ВКонтакте, и показывает <b>имя авторизованного
        пользователя и 5 любых друзей пользователя</b>. При последующих
        запусках/заходах на страницу сразу показывает всю информацию
        т.к. уже понимает, что авторизовано и авторизация запоминается.
        Бекенд,  если потребуется, на <b>любой технологии</b> на ваш выбор.</blockquote>
</div>
{% if user.is_authenticated %}
<div class="auth_btn">
    <h2>Вы авторизованны</h2>
</div>
{% else %}
{% get_providers as socialaccount_providers %}
    {% if socialaccount_providers %}
        <div class="socialaccount_ballot">
            <ul class="socialaccount_providers auth_btn">
                {% include "socialaccount/snippets/provider_list.html" with process="login" %}
            </ul>
            <div class="login-or"></div>

        </div>

        {% include "socialaccount/snippets/login_extra.html" %}
    {% endif %}
{% endif %}
{% endblock %}